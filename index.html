<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Guess the Country - World</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin:0;
  font-family:sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  background: linear-gradient(135deg,#0f172a,#020617);
  color:white;
}
.app{
  width:100%;
  max-width:450px;
  background:#1e293b;
  padding:16px;
  border-radius:20px;
  text-align:center;
}
button{
  padding:10px 16px;
  margin:5px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  background:#22c55e;
  color:white;
  font-size:16px;
  transition: 0.2s;
}
button:hover{background:#16a34a;}
h1{margin-bottom:10px;}
#timer{font-size:18px;margin-bottom:10px;}
.correct{background:#10b981 !important;}
.wrong{background:#ef4444 !important;}
</style>
</head>
<body>
<div class="app">
<h1>ğŸŒ Ø­Ø¯Ø³ Ú©Ø´ÙˆØ±Ù‡Ø§</h1>
<div id="timer">Ø²Ù…Ø§Ù†: 10</div>
<img id="flag" src="" alt="Flag" width="150" style="margin:10px 0;">
<div id="options"></div>
<p>Ø§Ù…ØªÛŒØ§Ø²: <span id="score">0</span></p>
<button id="restartBtn" style="display:none;" onclick="startGame()">Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯</button>
</div>

<script>
// Ù„ÛŒØ³Øª ØªÙ…Ø§Ù… Ú©Ø´ÙˆØ±Ù‡Ø§ Ø¨Ø§ Ù¾Ø±Ú†Ù… (Ù†Ù…ÙˆÙ†Ù‡ Ú©ÙˆØªØ§Ù‡ØŒ Ù…ÛŒØªÙˆÙ†ÛŒ Ø§Ø² JSON Ú©Ø§Ù…Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒ)
const countries = [
  {name:"Afghanistan", flag:"https://flagcdn.com/af.svg"},
  {name:"Albania", flag:"https://flagcdn.com/al.svg"},
  {name:"Algeria", flag:"https://flagcdn.com/dz.svg"},
  {name:"Andorra", flag:"https://flagcdn.com/ad.svg"},
  {name:"Angola", flag:"https://flagcdn.com/ao.svg"},
  {name:"Argentina", flag:"https://flagcdn.com/ar.svg"},
  {name:"Armenia", flag:"https://flagcdn.com/am.svg"},
  {name:"Australia", flag:"https://flagcdn.com/au.svg"},
  {name:"Austria", flag:"https://flagcdn.com/at.svg"},
  {name:"Azerbaijan", flag:"https://flagcdn.com/az.svg"},
  {name:"Bahamas", flag:"https://flagcdn.com/bs.svg"},
  {name:"Bahrain", flag:"https://flagcdn.com/bh.svg"},
  {name:"Bangladesh", flag:"https://flagcdn.com/bd.svg"},
  {name:"Barbados", flag:"https://flagcdn.com/bb.svg"},
  {name:"Belarus", flag:"https://flagcdn.com/by.svg"},
  {name:"Belgium", flag:"https://flagcdn.com/be.svg"},
  {name:"Belize", flag:"https://flagcdn.com/bz.svg"},
  {name:"Benin", flag:"https://flagcdn.com/bj.svg"},
  {name:"Bhutan", flag:"https://flagcdn.com/bt.svg"},
  {name:"Bolivia", flag:"https://flagcdn.com/bo.svg"},
  {name:"Bosnia and Herzegovina", flag:"https://flagcdn.com/ba.svg"},
  {name:"Botswana", flag:"https://flagcdn.com/bw.svg"},
  {name:"Brazil", flag:"https://flagcdn.com/br.svg"},
  {name:"Brunei", flag:"https://flagcdn.com/bn.svg"},
  {name:"Bulgaria", flag:"https://flagcdn.com/bg.svg"},
  {name:"Burkina Faso", flag:"https://flagcdn.com/bf.svg"},
  {name:"Burundi", flag:"https://flagcdn.com/bi.svg"},
  // Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ 195 Ú©Ø´ÙˆØ±
];

let score = 0;
let current = null;
let timeLeft = 10;
let timerInterval = null;

function startGame(){
  score = 0;
  document.getElementById("score").innerText = score;
  document.getElementById("restartBtn").style.display = "none";
  newQuestion();
}

function newQuestion(){
  clearInterval(timerInterval);
  timeLeft = 10;
  document.getElementById("timer").innerText = `Ø²Ù…Ø§Ù†: ${timeLeft}`;
  
  current = countries[Math.floor(Math.random()*countries.length)];
  
  let options = [current.name];
  while(options.length < 4){
    let rand = countries[Math.floor(Math.random()*countries.length)].name;
    if(!options.includes(rand)) options.push(rand);
  }
  options = options.sort(()=>Math.random()-0.5);
  
  document.getElementById("flag").src = current.flag;
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";
  
  options.forEach(opt=>{
    const btn = document.createElement("button");
    btn.innerText = opt;
    btn.onclick = ()=>checkAnswer(btn, opt);
    optionsDiv.appendChild(btn);
  });
  
  timerInterval = setInterval(()=>{
    timeLeft--;
    document.getElementById("timer").innerText = `Ø²Ù…Ø§Ù†: ${timeLeft}`;
    if(timeLeft<=0){
      clearInterval(timerInterval);
      alert(`â° Ø²Ù…Ø§Ù† ØªÙ…Ø§Ù… Ø´Ø¯! Ø¬ÙˆØ§Ø¨ Ø¯Ø±Ø³Øª: ${current.name}`);
      nextQuestion();
    }
  },1000);
}

function checkAnswer(button, selected){
  clearInterval(timerInterval);
  if(selected === current.name){
    button.classList.add("correct");
    score++;
  } else {
    button.classList.add("wrong");
    alert(`âŒ ØºÙ„Ø·! Ø¬ÙˆØ§Ø¨ Ø¯Ø±Ø³Øª: ${current.name}`);
  }
  document.getElementById("score").innerText = score;
  setTimeout(nextQuestion,500);
}

function nextQuestion(){
  if(score >= 20){ // Ø¨Ø¹Ø¯ Ø§Ø² 20 Ø³ÙˆØ§Ù„ Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´ÙˆØ¯
    alert(`ğŸ‰ Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯! Ø§Ù…ØªÛŒØ§Ø² Ø´Ù…Ø§: ${score}`);
    document.getElementById("restartBtn").style.display = "block";
  } else {
    newQuestion();
  }
}

// Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
startGame();
</script>
</body>
</html>
